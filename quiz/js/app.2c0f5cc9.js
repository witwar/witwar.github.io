(function(e){function t(t){for(var s,n,c=t[0],o=t[1],l=t[2],d=0,p=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/quiz/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"4f70":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("quiz",{attrs:{quizdata:e.quiz,scriptid:e.scriptid}})],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!0===e.mainPage?a("div",{staticClass:"main"},[a("div",{staticClass:"main__bg",style:e.bgMainImage}),a("div",{staticClass:"main__wrapper"},[a("div",{staticClass:"main__header clearfix"},[a("div",{staticClass:"main__logo float-left mr-2"},[a("img",{attrs:{width:"32",src:e.quizdata.company_logo}})]),a("div",{staticClass:"main__name"},[e._v(e._s(e.quizdata.company_name))])]),a("div",{staticClass:"main__body"},[a("h1",{staticClass:"main__title my-2"},[e._v(e._s(e.quizdata.title))]),a("div",{staticClass:"main__desc my-2"},[e._v(e._s(e.quizdata.desc))]),a("div",{staticClass:"main__actions my-2"},[a("a",{staticClass:"main__button btn btn-error",attrs:{href:"#"},on:{click:function(t){e.mainPage=!1}}},[e._v(e._s(e.quizdata.button_text))])])]),a("div",{staticClass:"main__footer"},[a("div",{staticClass:"main__phone"},[e._v(e._s(e.quizdata.company_phone))]),a("div",{staticClass:"main__phone-desc"},[e._v(e._s(e.quizdata.company_phone_desc))])])])]):!1===e.mainPage?a("div",{staticClass:"quiz container grid-lg"},[a("div",{staticClass:"quiz__header clearfix"},[a("div",{staticClass:"quiz__logo float-left mr-2"},[a("img",{attrs:{width:"32",src:e.quizdata.company_logo}})]),a("div",{staticClass:"quiz__title"},[e._v(e._s(e.quizdata.subtitle))])]),e._l(e.quizdata.steps,(function(t,s){return e.checkStep(s)?a("div",{staticClass:"quiz__steps"},[e.checkOperator(t.desc)?a("div",{staticClass:"quiz__operator"},[a("div",{staticClass:"tile"},[a("div",{staticClass:"tile-icon"},[a("img",{staticClass:"avatar avatar-md badge",attrs:{src:e.quizdata.operator_image}})]),a("div",{staticClass:"tile-content"},[a("div",{staticClass:"tile-title"},[e._v(e._s(e.quizdata.operator_name))]),a("small",{staticClass:"tile-subtitle"},[e._v(e._s(e.quizdata.operator_post))])])]),a("blockquote",{staticClass:"quiz__operator-quote text-small"},[e._v(e._s(t.desc))])]):e._e(),a("div",{staticClass:"quiz__step"},[a("h2",{staticClass:"quiz__step-title"},[e._v(e._s(t.title))]),e._l(t.questions,(function(t){return a("div",{staticClass:"quiz__question"},[e.checkType(t.type,"radio")?a("div",{staticClass:"quiz__label",class:{required:t.required}},[e._v(e._s(t.label))]):e._e(),e.checkType(t.type,"radio")?a("div",{staticClass:"quiz__radio columns"},[e._l(t.answers,(function(s){return a("div",{staticClass:"column col-4 col-sm-6 col-xs-12"},[a("label",{staticClass:"quiz__variant card my-2"},[a("div",{staticClass:"card-image"},[s.image?a("img",{staticClass:"quiz__variant-image img-responsive",attrs:{src:s.image}}):e._e()]),a("div",{staticClass:"card-header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.answers[t.name],expression:"answers[item.name]"}],attrs:{type:"radio",name:t.name},domProps:{value:s.title,checked:e._q(e.answers[t.name],s.title)},on:{change:function(a){return e.$set(e.answers,t.name,s.title)}}}),a("span",{staticClass:"quiz__variant-title"},[e._v(" "+e._s(s.title))])])])])})),t.desc?a("p",{staticClass:"quiz__question-desc text-small"},[e._v(e._s(t.desc))]):e._e()],2):e._e(),e.checkType(t.type,"number")?a("div",{staticClass:"quiz__number"},[a("label",[a("div",{staticClass:"quiz__label",class:{required:t.required}},[e._v(e._s(t.label))]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.answers[t.name],expression:"answers[item.name]",modifiers:{number:!0}}],attrs:{type:"number",min:t.min,placeholder:t.placeholder,name:t.name},domProps:{value:e.answers[t.name]},on:{input:function(a){a.target.composing||e.$set(e.answers,t.name,e._n(a.target.value))},blur:function(t){return e.$forceUpdate()}}}),t.desc?a("p",{staticClass:"quiz__question-desc text-small"},[e._v(e._s(t.desc))]):e._e()])]):e._e(),e.checkType(t.type,"text")?a("div",{staticClass:"quiz__text"},[a("label",[a("div",{staticClass:"quiz__label",class:{required:t.required}},[e._v(e._s(t.label))]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.answers[t.name],expression:"answers[item.name]",modifiers:{trim:!0}}],attrs:{type:"text",name:t.name,placeholder:t.placeholder},domProps:{value:e.answers[t.name]},on:{input:function(a){a.target.composing||e.$set(e.answers,t.name,a.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t.desc?a("p",{staticClass:"quiz__question-desc text-small"},[e._v(e._s(t.desc))]):e._e()])]):e._e(),e.checkType(t.type,"contacts")?a("div",{staticClass:"quiz__contacts"},[a("label",[a("div",{staticClass:"quiz__label",class:{required:t.required}},[e._v(e._s(t.label))]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.answers[t.name],expression:"answers[item.name]",modifiers:{trim:!0}}],attrs:{type:"text",name:t.name,placeholder:t.placeholder},domProps:{value:e.answers[t.name]},on:{input:function(a){a.target.composing||e.$set(e.answers,t.name,a.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t.desc?a("p",{staticClass:"quiz__question-desc text-small"},[e._v(e._s(t.desc))]):e._e()])]):e._e(),e.checkType(t.type,"phone")?a("div",{staticClass:"quiz__phone"},[a("label",[a("div",{staticClass:"quiz__label",class:{required:t.required}},[e._v(e._s(t.label))]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.answers[t.name],expression:"answers[item.name]",modifiers:{trim:!0}}],attrs:{type:"text",name:t.name,placeholder:t.placeholder},domProps:{value:e.answers[t.name]},on:{input:[function(a){a.target.composing||e.$set(e.answers,t.name,a.target.value.trim())},function(a){return e.phoneNumber(t.name)}],blur:function(t){return e.$forceUpdate()}}}),t.desc?a("p",{staticClass:"quiz__question-desc text-small"},[e._v(e._s(t.desc))]):e._e()])]):e._e()])}))],2)]):e._e()})),a("div",{staticClass:"quiz__actions my-2"},[e.errorsList.length?a("div",{staticClass:"toast toast-error my-2"},e._l(e.errorsList,(function(t){return a("div",{staticClass:"quiz__error"},[e._v(e._s(t))])})),0):e._e(),e.showPrev()?a("button",{staticClass:"btn quiz__prev-button mr-2",on:{click:e.prev}},[e._v("Назад")]):e._e(),e.showNext()?a("button",{staticClass:"btn quiz__next-button mr-2",on:{click:e.next}},[e._v("Далее")]):e._e(),e.showSubmit()?a("button",{staticClass:"btn quiz__submit-button btn-error mr-2",attrs:{disabled:!1===e.agree},on:{click:e.sendData}},[e._v("Отправить запрос")]):e._e(),e.showSubmit()?a("div",{staticClass:"quiz__agree d-inline-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.agree,expression:"agree"}],staticClass:"quiz__agree mr-2",attrs:{type:"checkbox",required:""},domProps:{checked:Array.isArray(e.agree)?e._i(e.agree,null)>-1:e.agree},on:{change:function(t){var a=e.agree,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=e._i(a,r);s.checked?n<0&&(e.agree=a.concat([r])):n>-1&&(e.agree=a.slice(0,n).concat(a.slice(n+1)))}else e.agree=i}}}),e._v(" С политикой конфиденциальности ознакомлен(а) ")]):e._e()])],2):e._e()},c=[],o=(a("99af"),a("4160"),a("b0c0"),a("ac1f"),a("466d"),a("5319"),a("159b"),{name:"Quiz",props:["quizdata","scriptid"],data:function(){return{mainPage:!0,errorsList:[],currentStep:0,agree:!0,bgMainImage:{backgroundImage:"url("+this.quizdata.background_image+")"},postUrl:"https://script.google.com/macros/s/"+this.scriptid+"/exec",answers:{}}},methods:{sendData:function(){if(this.errorsList=[],this.saveData(),!this.errorsList.length){var e=new FormData,t=this.quizdata.redirect;e.append("JSONdata",JSON.stringify(this.answers)),this.axios.post(this.postUrl,e).then((function(e){console.log(e),window.location.href=t})).catch((function(e){console.log(e)}))}},validate:function(){var e=this.quizdata.steps[this.currentStep].questions,t=this.answers,a=[];e.forEach((function(s,i){var r=e[i].name,n=t[r];s.required&&("radio"!==s.type||n?n||a.push('Поле "'+s.label+'" не может быть пустым'):a.push('Нужно выбрать "'+s.label+'"')),"number"!==s.type||s.min<parseFloat(n)&&parseFloat(n)<s.max||a.push('Поле "'+s.label+'" должно быть в диапазоне от '+s.min+" до "+s.max),"phone"===s.type&&15!==n.length&&a.push("Правильно укажите мобильный телефон")})),this.errorsList=this.errorsList.concat(a)},phoneNumber:function(e){var t=this.answers[e].replace(/\D/g,"").match(/([7-8]{0,1})(\d{0,3})(\d{0,3})(\d{0,4})/);this.answers[e]=t[2]?"+"+t[1]+" "+t[2]+" "+t[3]+" "+t[4]:"+"+t[1]},progressActive:function(e){if(this.currentStep===e)return"active"},checkStep:function(e){return e===this.currentStep},checkType:function(e,t){return e===t},checkOperator:function(e){return e&&e.length>0},saveData:function(){this.validate(),localStorage.answers=JSON.stringify(this.answers)},showPrev:function(){return this.currentStep>0},showNext:function(){return this.currentStep<this.quizdata.steps.length-1},showSubmit:function(){return this.currentStep===this.quizdata.steps.length-1},prev:function(){this.saveData(),this.errorsList=[],this.showPrev()&&this.currentStep--},next:function(){this.errorsList=[],this.saveData(),this.showNext()&&!this.errorsList.length&&this.currentStep++},setStep:function(e){this.currentStep=e},requiredValidate:function(){}},mounted:function(){console.log(this.quizdata),localStorage.answers&&(this.answers=JSON.parse(localStorage.answers))}}),l=o,u=(a("7753"),a("2877")),d=Object(u["a"])(l,n,c,!1,null,"b8cd6eca",null),p=d.exports,m="AKfycbyn9cAT01eX7Hi3pripfTk_WrrNDZhfvaXkJfIXbbgyv1a7XUk",_={redirect:"/quiz",title:"Натяжные потолки в Лисках",subtitle:"Выберите натяжной потолок вашей мечты",desc:"Выберите натяжной потолок на свой вкус и мы бесплатно рассчитаем его стоимость в Лисках, а также предложим несколько вариантов дизайна + персональный подарок!",button_text:"Подобрать потолок",background_image:"/quiz/img/background.jpg",company_logo:"/quiz/img/logo.jpg",company_name:"Натяжные потолки Style+",company_phone:"+7 (951) 666-66-66",company_phone_desc:"Лиски и Лискинский район",operator_name:"Алексей",operator_image:"/quiz/img/logo.jpg",operator_post:"Монтажник потолков",steps:[{title:"Какой потолок вам нужен?",desc:"Натяжные потолки имеют множество вариаций в плане дизайна и расцветок. Мы, в компании Style+, готовы выполнить практически любой вариант - выбирайте!",questions:[{desc:"",type:"radio",name:"ceilType",label:"Варианты потолка",required:!0,answers:[{title:"Белый",image:"/quiz/img/ceils/white.jpg"},{title:"Цветной",image:"/quiz/img/ceils/colored.jpg"},{title:"Фотопечать",image:"/quiz/img/ceils/photoprint.jpg"},{title:"Двухуровневый",image:"/quiz/img/ceils/twolevels.jpg"},{title:"Перфорированный",image:"/quiz/img/ceils/perforated.jpg"},{title:"Парящий",image:"/quiz/img/ceils/soaring.jpg"},{title:"Звёздное небо",image:"/quiz/img/ceils/stars.jpg"},{title:"Другой тип",image:"/quiz/img/ceils/more.jpg"}]}]},{title:"Укажите параметры потолка",desc:"Оцените площадь всех комнат, в которых нужно установить натяжные потолки. Чем точнее вы это сделаете, тем точнее будет расчёт. Постарайтесь!",questions:[{desc:"Для квадратных и прямоугольных помещений площадь определяется умножением ширины на длину",type:"number",min:5,max:99999,placeholder:"Укажите площадь",name:"ceilArea",label:"Площадь потолка",required:!0}]},{title:"Контактная информация",desc:"Остался последний шаг - номер телефона (WhatsApp, Viber), чтобы мы смогли связаться с вами и предложить расчёт потолка и наш подарок!",questions:[{desc:"",type:"contacts",name:"name",label:"Ваше имя"},{desc:"",type:"phone",name:"phone",label:"Номер моб. телефона",required:!0}]}]},v={name:"App",data:function(){return{quiz:_,scriptid:m}},components:{Quiz:p}},h=v,g=(a("5c0b"),Object(u["a"])(h,i,r,!1,null,null,null)),f=g.exports,q=a("bc3a"),b=a.n(q),z=a("a7fe"),y=a.n(z);s["a"].use(y.a,b.a),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("9c0c"),i=a.n(s);i.a},7753:function(e,t,a){"use strict";var s=a("4f70"),i=a.n(s);i.a},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.2c0f5cc9.js.map